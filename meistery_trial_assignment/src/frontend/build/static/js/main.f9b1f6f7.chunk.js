(this["webpackJsonpreact-web-app"]=this["webpackJsonpreact-web-app"]||[]).push([[0],{210:function(e,t,n){},331:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(13),i=n.n(c),s=(n(210),n(7)),l=n(387),o=n(127),d=n(385),u=n(184),j=n(65),b=n(28),h=n(401),m=function(e,t){return e.sort((function(e,n){if("product"===t)return e[t]>n[t]?1:e[t]<n[t]?-1:0;if("date"===t){var a=new Date(e[t]),r=new Date(n[t]);return Object(h.a)(a,r)?-1:Object(h.a)(a,r)?0:1}return Number(e[t])-Number(n[t])}))},x=function(e){var t={name:"",revenue:0},n={};return e.forEach((function(e){n.hasOwnProperty(e.product)||(n[e.product]=0),n[e.product]+=Number(e.revenue),n[e.product]>t.revenue&&(t.name=e.product,t.revenue=n[e.product])})),t},O=function(e){var t={name:"",count:1},n={};return e.forEach((function(e){n.hasOwnProperty(e.product)||(n[e.product]=0),n[e.product]+=Number(e.sales_number),n[e.product]>t.count&&(t.name=e.product,t.count=n[e.product])})),t},g=function(e){return e.reduce((function(e,t){return e+Number(t.revenue)}),0)/e.length},p=function(e){return e.reduce((function(e,t,n){var a=Number(e.revenue),r=Number(t.revenue);return(0===n||a<r)&&(e=t),e}),{})},f=function(e){if(!e)return!1;var t=e.split(" ");return t.length>=2&&t.filter((function(e){return""!==e})).length===t.length},v=function(e){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())},y=n(20),S=n(163),C=n.n(S).a.create({headers:{"Content-Type":"application/json"},xsrfHeaderName:"X-CSRFTOKEN",xsrfCookieName:"csrftoken"}),I=function(e){e?C.defaults.headers.common.Authorization="Token ".concat(e):delete C.defaults.headers.common.Authorization},_=C,N=n(2),w=Object(b.a)((function(e){return{container:{padding:e.spacing(3)}}})),A=function(e){var t=e.setToken,n=e.setCurrentUserId,r=w(),c=Object(a.useState)(),i=Object(s.a)(c,2),o=i[0],b=i[1],h=Object(a.useState)(),m=Object(s.a)(h,2),x=m[0],O=m[1],g=Object(a.useState)(!1),p=Object(s.a)(g,2),f=p[0],S=p[1];return Object(N.jsxs)(d.a,{className:r.container,maxWidth:"xs",children:[Object(N.jsx)("form",{children:Object(N.jsxs)(l.a,{container:!0,spacing:3,children:[Object(N.jsx)(l.a,{item:!0,xs:12,children:Object(N.jsxs)(l.a,{container:!0,spacing:2,children:[Object(N.jsx)(l.a,{item:!0,xs:12,children:Object(N.jsx)(u.a,{error:f&&!o||o&&!v(o),helperText:f&&!o?"Email can not be empty":o&&!v(o)?"Please insert valid email address":"",fullWidth:!0,label:"Email",name:"email",size:"small",variant:"outlined",value:o,onChange:function(e){return b(e.target.value)}})}),Object(N.jsx)(l.a,{item:!0,xs:12,children:Object(N.jsx)(u.a,{error:f&&!x,helperText:f&&!x?"Password can not be empty":null,fullWidth:!0,label:"Password",name:"password",size:"small",type:"password",variant:"outlined",value:x,onChange:function(e){return O(e.target.value)}})})]})}),Object(N.jsx)(l.a,{item:!0,xs:12,children:Object(N.jsx)(j.a,{color:"secondary",fullWidth:!0,type:"submit",variant:"contained",onClick:function(e){var a;(e.preventDefault(),o&&x)?(a={email:o,password:x},_.post("/api/v1/login",a)).then((function(e){if(200===e.status){console.log(e.data);var a=e.data.token,r=e.data.user_id;if(!a)return void y.b.error("Email and/or password doesn't match");I(a),t(a),n(r),localStorage.setItem("authToken",a),localStorage.setItem("currentUserId",r)}})).catch((function(e){y.b.error(e.toString())})):S(!0)},children:"Log in"})})]})}),Object(N.jsx)(y.a,{})]})},P=n(42),k=n(43),E=Object(b.a)((function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(k.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(P.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:240},formControl:{margin:e.spacing(1),minWidth:120,width:"100%"},selectEmpty:{marginTop:e.spacing(2)},control:{padding:e.spacing(2)}}})),U=n(18),D=[{id:1,email:"sabbir@alam.com",password:"123456"},{id:2,email:"shabnam@mushrit.com",password:"123456"},{id:3,email:"sakib@alam.com",password:"123456"},{id:4,email:"akter@saima.com",password:"123456"}],T=function(e){return localStorage.setItem("currentUserInformation",JSON.stringify(Object(k.a)(Object(k.a)({},e),{},{userId:localStorage.getItem("currentUserId")})))},W=function(e){localStorage.setItem("salesData",JSON.stringify(e))},R=function(){var e=localStorage.getItem("salesData");return console.log("salesDataStr",e),e?JSON.parse(e):[]},z=n(104),L=n(55),B=n(64),F=n(337),G=n(103),J=n(186),H=["male","female"],q=["sales_number","revenue"],M=["date","product","sales_number","revenue"],Y=n(95),V=n.n(Y),X=n(402),Z=n(390),K=n(388),$=n(389);function Q(e){return Object(N.jsx)("div",{children:Object(N.jsxs)(X.a,{open:e.openDialog,onClose:e.handleCloseDialog,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(N.jsx)(K.a,{children:Object(N.jsx)($.a,{id:"alert-dialog-description",children:"Are you sure you want to replace the data"})}),Object(N.jsxs)(Z.a,{children:[Object(N.jsx)(j.a,{onClick:e.handleCloseDialog,color:"primary",children:"No"}),Object(N.jsx)(j.a,{onClick:e.handleAccept,color:"primary",autoFocus:!0,children:"Yes"})]})]})})}n(147);var ee=function(e){var t=e.setShowoutput,n=e.setcsvData,c=e.userInformation,i=e.setUserInformation,o=e.countryList,d=r.a.useContext(xe),b=r.a.useContext(be),h=d.logoutProcess,x=b.name,O=b.setName,g=b.email,p=b.setEmail,S=b.age,C=b.setAge,I=b.gender,w=b.setGender,A=b.city,P=b.setCity,D=b.country,R=b.setCountry,q=E(),Y=Object(a.useState)(),X=Object(s.a)(Y,2),Z=X[0],K=X[1],$=Object(a.useState)(),ee=Object(s.a)($,2),te=ee[0],ne=ee[1],ae=Object(a.useState)(!1),re=Object(s.a)(ae,2),ce=re[0],ie=re[1],se=Object(a.useState)(!1),le=Object(s.a)(se,2),oe=le[0],de=le[1],ue=Object(a.useState)(!1),je=Object(s.a)(ue,2),he=je[0],me=je[1];Object(a.useEffect)((function(){Object.keys(c).length>0&&c.constructor===Object&&(O("".concat(c.first_name," ").concat(c.last_name)),C(c.age),p(c.email),w(c.gender))}),[O,C,p,w,c]),Object(a.useEffect)((function(){c.country&&o.length>0&&R(o.filter((function(e){return e.id===c.country}))[0])}),[R,c,o]),Object(a.useEffect)((function(){c.city&&D&&D.cities&&P(D.cities.filter((function(e){return e.id===c.city}))[0])}),[P,c,D]);var Oe=!!x&&!!g&&!!S&&!!I&&!!A&&!!D&&he&&!!te,ge=function(e){var t=V.a.unparse(e.data);console.log("updateData csv",t),ne(t)},pe=function(){console.log("handleCSVUpload called"),Z&&(Z.name.endsWith(".csv")||"text/csv"===Z.type)?V.a.parse(Z,{complete:ge}):y.b.error("Please upload valid csv file"),ie(!1)},fe=function(e){e.data.shift(),console.log("data.data",e.data);var n=m(function(e){console.log("preProcessData salesData",e);var t=[];return(new Date).toISOString(),e.forEach((function(e,n){e[0]&&t.push({id:n+1,date:e[0],product:e[1],sales_number:e[2],revenue:e[3],user_id:e[4]})})),t}(e.data),M[0]);console.log("sales_data",n),function(e){return console.log(e),_.post("/api/v1/sales/",e)}({sales_data:n}).then((function(e){200!==e.status&&201!==e.status||(y.b.success("Successfully created sales record"),t(!0))})).catch((function(e){return y.b.error(e.toString())}))};return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(l.a,{container:!0,spacing:3,children:Object(N.jsx)(l.a,{item:!0,xs:12,style:{textAlign:"right"},children:Object(N.jsx)(j.a,{variant:"contained",size:"medium",color:"secondary",onClick:function(){h()},children:"Logout"})})}),Object(N.jsx)(J.a,{variant:"h6",children:"User"}),Object(N.jsxs)(l.a,{container:!0,spacing:3,alignItems:"center",children:[Object(N.jsx)(l.a,{item:!0,xs:6,children:Object(N.jsx)(u.a,{error:oe&&!x||x&&!f(x),helperText:!x&&oe?"Name can not be empty":x&&!f(x)?"Name should have first name and last name":"",id:"name",label:"Name",variant:"outlined",fullWidth:!0,onChange:function(e){O(e.target.value)},value:x})}),Object(N.jsx)(l.a,{item:!0,xs:3,children:Object(N.jsxs)(B.a,{variant:"outlined",className:q.formControl,children:[Object(N.jsx)(z.a,{id:"demo-simple-select-outlined-label",children:"Gender"}),Object(N.jsx)(G.a,{error:oe&&!I,labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",value:I,onChange:function(e){w(e.target.value)},label:"Gender",children:H.map((function(e,t){return Object(N.jsx)(L.a,{value:e,selected:e===I,children:e.charAt(0).toUpperCase()+e.slice(1)},e)}))}),!I&&oe&&Object(N.jsx)(F.a,{error:!0,children:"Gender can not be empty"})]})}),Object(N.jsx)(l.a,{item:!0,xs:3,children:Object(N.jsxs)(B.a,{variant:"outlined",className:q.formControl,children:[Object(N.jsx)(z.a,{id:"demo-simple-select-outlined-label",children:"Age"}),Object(N.jsx)(G.a,{error:oe&&!S,labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",value:S,onChange:function(e){C(e.target.value)},label:"Age",children:Object(U.a)(Array(121)).map((function(e,t){return Object(N.jsx)(L.a,{value:t,children:t},t)}))}),!S&&oe&&Object(N.jsx)(F.a,{error:!0,children:"Age can not be empty"})]})}),Object(N.jsx)(l.a,{item:!0,xs:6,children:Object(N.jsx)(u.a,{error:oe&&!g||g&&!v(g),helperText:!g&&oe?"Email can not be empty":g&&!v(g)?"Please insert a valid email address.":"",id:"email",label:"Email",variant:"outlined",fullWidth:!0,value:g,onChange:function(e){p(e.target.value)}})}),Object(N.jsx)(l.a,{item:!0,xs:3,children:Object(N.jsxs)(B.a,{variant:"outlined",className:q.formControl,children:[Object(N.jsx)(z.a,{id:"demo-simple-select-outlined-label",children:"Country"}),Object(N.jsx)(G.a,{error:oe&&!D,labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",value:D,onChange:function(e){R(e.target.value)},label:"Country",children:o.map((function(e){return Object(N.jsx)(L.a,{value:e,children:e.name},e.name)}))}),!D&&oe&&Object(N.jsx)(F.a,{error:!0,children:"Country can not be empty"})]})}),Object(N.jsx)(l.a,{item:!0,xs:3,children:Object(N.jsxs)(B.a,{variant:"outlined",className:q.formControl,children:[Object(N.jsx)(z.a,{id:"demo-simple-select-outlined-label",children:"City"}),Object(N.jsx)(G.a,{error:oe&&!A,labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",value:A,onChange:function(e){P(e.target.value)},label:"City",disabled:void 0===D||void 0===D.cities,children:void 0!==D&&void 0!==D.cities&&D.cities.map((function(e){return Object(N.jsx)(L.a,{value:e,children:e.name},e.name)}))}),!A&&oe&&Object(N.jsx)(F.a,{error:!0,children:"City can not be empty"})]})})]}),Object(N.jsx)(l.a,{container:!0,spacing:3,children:Object(N.jsx)(l.a,{item:!0,xs:12,style:{textAlign:"left"},children:Object(N.jsx)(j.a,{variant:"contained",size:"medium",color:"secondary",onClick:function(){if(!(x&&g&&I&&D&&A))return y.b.error("Please fill up the required fields"),void de(!0);var e,t,n=x.split(" "),a={email:g,first_name:n[0],last_name:n[1],gender:I,age:S,country:D.id,city:A.id};i((function(e){return Object(k.a)(Object(k.a)({},e),a)})),(e=localStorage.getItem("currentUserId"),t=a,_.patch("/api/v1/users/".concat(e,"/"),t)).then((function(e){200===e.status&&(de(!1),me(!0),y.b.success("Successfully updated user information"))})).catch((function(e){return y.b.error(e.toString())}))},children:"Update User Data"})})}),Object(N.jsx)("br",{}),Object(N.jsx)(J.a,{variant:"h6",children:"Input Data"}),Object(N.jsxs)(l.a,{container:!0,spacing:3,children:[Object(N.jsx)(l.a,{item:!0,xs:10,children:Object(N.jsx)(u.a,{id:"name",variant:"outlined",type:"file",fullWidth:!0,onChange:function(e){console.log("event.target.files",e.target.files),K(e.target.files[0])},accept:"csv"})}),Object(N.jsx)(l.a,{item:!0,xs:2,children:Object(N.jsx)(j.a,{variant:"contained",size:"large",color:"primary",className:q.margin,style:{float:"right",height:55,width:"100%"},onClick:function(){te?ie(!0):pe()},disabled:!Z,children:"Upload File"})}),Object(N.jsx)(l.a,{item:!0,xs:12,children:Object(N.jsx)(u.a,{label:"Manual CSV Data Input",multiline:!0,rows:10,variant:"outlined",rowsMax:10,fullWidth:!0,onChange:function(e){ne(e.target.value)},InputLabelProps:{shrink:!0},value:te})})]}),Object(N.jsx)(l.a,{container:!0,spacing:3,children:Object(N.jsxs)(l.a,{item:!0,xs:12,style:{textAlign:"center"},children:[Object(N.jsx)(j.a,{variant:"contained",size:"medium",color:"primary",className:q.margin,disabled:!Oe,style:{marginRight:20},onClick:function(){if(console.log("handleSubmit rawData",te),te){V.a.parse(te,{complete:fe})}},children:"Upload"}),Object(N.jsx)(j.a,{variant:"contained",size:"medium",color:"secondary",onClick:function(){O(""),p(""),C(""),w(""),P(""),R(""),K(),t(!1),n(),ne(),de(!1),T({}),W([]),me(!1)},children:"Reset"})]})}),Object(N.jsx)(Q,{openDialog:ce,handleCloseDialog:function(){ie(!1)},handleAccept:pe}),Object(N.jsx)(y.a,{})]})},te=n(168);function ne(e){var t=e.data;if(!t||void 0===t)return null;return Object(N.jsx)("div",{style:{height:400,width:"100%"},children:Object(N.jsx)(te.a,{rows:t,columns:[{field:"date",headerName:"Date"},{field:"product",headerName:"Product"},{field:"sales_number",headerName:"Sales Number"},{field:"revenue",headerName:"Revenue"}],pageSize:5,checkboxSelection:!0})})}var ae=n(170),re=function(e){var t=e.data;if(!t||void 0===t)return null;var n={labels:t.map((function(e){return e.product})),datasets:[{label:e.yAxisLabel,backgroundColor:"#0000FF",borderColor:"rgba(0,0,0,1)",borderWidth:2,data:t.map((function(t){return t[e.yAxisLabel]}))}]};return Object(N.jsx)("div",{children:Object(N.jsx)(ae.Bar,{data:n,options:{title:{display:!0,text:"".concat(e.yAxisLabel," per product"),fontSize:20},legend:{display:!0,position:"right"}}})})},ce=n(393),ie=n(394),se=n(395),le=n(396),oe=n(391),de=n(397),ue=function(e){var t=e.data;if(!t||void 0===t||0===Object.keys(t).length)return null;return Object(N.jsx)("div",{style:{height:400,width:"100%"},children:Object(N.jsx)(ce.a,{component:o.a,children:Object(N.jsxs)(ie.a,{style:{minWidth:700},"aria-label":"spanning table",children:[Object(N.jsx)(se.a,{children:Object(N.jsxs)(le.a,{children:[Object(N.jsx)(oe.a,{align:"center",children:"Average Sales for Employee"}),Object(N.jsx)(oe.a,{align:"center",children:"Average Sales for All Employees"}),Object(N.jsx)(oe.a,{align:"center",children:"Highest Revenue Sale"}),Object(N.jsx)(oe.a,{align:"center",children:"Highest Revenue Product"}),Object(N.jsx)(oe.a,{align:"center",children:"Highest Selling Product"})]})}),Object(N.jsx)(de.a,{children:Object(N.jsxs)(le.a,{children:[Object(N.jsx)(oe.a,{children:Object(N.jsx)(ie.a,{component:o.a,children:Object(N.jsxs)(se.a,{children:[Object(N.jsxs)(le.a,{children:[Object(N.jsx)(oe.a,{children:"UserName"}),Object(N.jsx)(oe.a,{children:"Average"})]}),Object(N.jsxs)(le.a,{children:[Object(N.jsx)(oe.a,{children:e.currentUserName}),Object(N.jsx)(oe.a,{children:t.avgSaleCurrentUser})]})]})})}),Object(N.jsx)(oe.a,{children:Object(N.jsx)(ie.a,{component:o.a,children:Object(N.jsxs)(se.a,{children:[Object(N.jsx)(le.a,{children:Object(N.jsx)(oe.a,{children:"Average"})}),Object(N.jsx)(le.a,{children:Object(N.jsx)(oe.a,{children:t.avgSale})})]})})}),Object(N.jsx)(oe.a,{children:Object(N.jsx)(ie.a,{component:o.a,children:Object(N.jsxs)(se.a,{children:[Object(N.jsxs)(le.a,{children:[Object(N.jsx)(oe.a,{children:"Product Name"}),Object(N.jsx)(oe.a,{children:"Revenue"})]}),Object(N.jsxs)(le.a,{children:[Object(N.jsx)(oe.a,{children:t.mostExpensiveProduct.product}),Object(N.jsx)(oe.a,{children:Number(t.mostExpensiveProduct.revenue)})]})]})})}),Object(N.jsx)(oe.a,{children:Object(N.jsx)(ie.a,{component:o.a,children:Object(N.jsxs)(se.a,{children:[Object(N.jsxs)(le.a,{children:[Object(N.jsx)(oe.a,{children:"Product Name"}),Object(N.jsx)(oe.a,{children:"Total Revenue"})]}),Object(N.jsxs)(le.a,{children:[Object(N.jsx)(oe.a,{children:t.mostRevenueEarningProduct.name}),Object(N.jsx)(oe.a,{children:t.mostRevenueEarningProduct.revenue})]})]})})}),Object(N.jsx)(oe.a,{children:Object(N.jsx)(ie.a,{component:o.a,children:Object(N.jsxs)(se.a,{children:[Object(N.jsxs)(le.a,{children:[Object(N.jsx)(oe.a,{children:"Product Name"}),Object(N.jsx)(oe.a,{children:"Total Sales"})]}),Object(N.jsxs)(le.a,{children:[Object(N.jsx)(oe.a,{children:t.mostSoldProduct.name}),Object(N.jsx)(oe.a,{children:t.mostSoldProduct.count})]})]})})})]})})]})})})},je=function(e){var t=e.handleReset,n=(e.userInformation,e.countryList,r.a.useContext(xe)),c=r.a.useContext(be),i=n.logoutProcess,o=c.name,d=c.email,u=c.age,b=c.gender,h=c.city,x=c.country,O=Object(a.useState)({}),g=Object(s.a)(O,2),p=g[0],f=g[1],v=E(),S=Object(a.useState)([]),C=Object(s.a)(S,2),I=C[0],w=C[1],A=Object(a.useState)(q[0]),P=Object(s.a)(A,2),k=P[0],D=P[1],T=Object(a.useState)(M[0]),W=Object(s.a)(T,2),R=W[0],F=W[1],H=function(){_.get("/api/v1/sale_statistics/").then((function(e){if(200===e.status){var t=e.data;console.log("salesStatistics",t);var n={avgSaleCurrentUser:t.average_sales_for_current_user,avgSale:t.average_sale_all_user,mostExpensiveProduct:{product:t.product_highest_revenue_for_current_user.product_name,revenue:t.product_highest_revenue_for_current_user.price},mostRevenueEarningProduct:{name:t.highest_revenue_sale_for_current_user.sale_id,revenue:t.highest_revenue_sale_for_current_user.revenue},mostSoldProduct:{name:t.product_highest_sales_number_for_current_user.product_name,count:t.product_highest_sales_number_for_current_user.price}};f(n)}})).catch((function(e){return y.b.error(e.toString())}))},Y=function(){_.get("/api/v1/sales/").then((function(e){200===e.status&&w(e.data)}))};return Object(a.useEffect)((function(){H(),Y()}),[]),Object(a.useEffect)((function(){if(I&&I.length){var e=m(I,R);w(Object(U.a)(e))}}),[R]),Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(l.a,{container:!0,spacing:3,children:Object(N.jsx)(l.a,{item:!0,xs:12,style:{textAlign:"right"},children:Object(N.jsx)(j.a,{variant:"contained",size:"medium",color:"secondary",onClick:function(){i()},children:"Logout"})})}),Object(N.jsx)(J.a,{variant:"h6",children:"Personal Information"}),Object(N.jsxs)(l.a,{container:!0,spacing:8,children:[Object(N.jsxs)(l.a,{item:!0,xs:6,children:[Object(N.jsxs)(l.a,{container:!0,spacing:3,children:[Object(N.jsx)(l.a,{item:!0,xs:6,children:Object(N.jsx)("p",{style:{textAlign:"left",fontWeight:"bolder"},children:"Name :"})}),Object(N.jsx)(l.a,{item:!0,xs:6,children:Object(N.jsx)("p",{style:{textAlign:"right"},children:o})})]}),Object(N.jsx)("hr",{}),Object(N.jsxs)(l.a,{container:!0,spacing:3,children:[Object(N.jsx)(l.a,{item:!0,xs:6,children:Object(N.jsx)("p",{style:{textAlign:"left",fontWeight:"bolder"},children:"Age :"})}),Object(N.jsx)(l.a,{item:!0,xs:6,children:Object(N.jsx)("p",{style:{textAlign:"right"},children:u})})]}),Object(N.jsx)("hr",{}),Object(N.jsxs)(l.a,{container:!0,spacing:3,children:[Object(N.jsx)(l.a,{item:!0,xs:6,children:Object(N.jsx)("p",{style:{textAlign:"left",fontWeight:"bolder"},children:"Gender :"})}),Object(N.jsx)(l.a,{item:!0,xs:6,children:Object(N.jsx)("p",{style:{textAlign:"right"},children:b.charAt(0).toUpperCase()+b.slice(1)})})]}),Object(N.jsx)("hr",{})]}),Object(N.jsxs)(l.a,{item:!0,xs:6,children:[Object(N.jsxs)(l.a,{container:!0,spacing:4,children:[Object(N.jsx)(l.a,{item:!0,xs:6,children:Object(N.jsx)("p",{style:{textAlign:"left",fontWeight:"bolder"},children:"Email :"})}),Object(N.jsx)(l.a,{item:!0,xs:6,children:Object(N.jsx)("p",{style:{textAlign:"right"},children:d})})]}),Object(N.jsx)("hr",{}),Object(N.jsxs)(l.a,{container:!0,spacing:3,children:[Object(N.jsx)(l.a,{item:!0,xs:6,children:Object(N.jsx)("p",{style:{textAlign:"left",fontWeight:"bolder"},children:"Country :"})}),Object(N.jsx)(l.a,{item:!0,xs:6,children:Object(N.jsx)("p",{style:{textAlign:"right"},children:x.name})})]}),Object(N.jsx)("hr",{}),Object(N.jsxs)(l.a,{container:!0,spacing:3,children:[Object(N.jsx)(l.a,{item:!0,xs:6,children:Object(N.jsx)("p",{style:{textAlign:"left",fontWeight:"bolder"},children:"City :"})}),Object(N.jsx)(l.a,{item:!0,xs:6,children:Object(N.jsx)("p",{style:{textAlign:"right"},children:h.name})})]}),Object(N.jsx)("hr",{})]})]}),I.length>0&&Object(N.jsxs)(l.a,{container:!0,spacing:8,children:[Object(N.jsxs)(l.a,{item:!0,xs:6,children:[Object(N.jsxs)(l.a,{container:!0,xs:12,children:[Object(N.jsx)(l.a,{item:!0,lg:9,children:Object(N.jsx)(J.a,{variant:"h6",children:"Data"})}),Object(N.jsx)(l.a,{item:!0,lg:3,children:Object(N.jsxs)(B.a,{variant:"outlined",className:v.formControl,children:[Object(N.jsx)(z.a,{id:"demo-simple-select-outlined-label",children:"OrderBy"}),Object(N.jsx)(G.a,{labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",value:R,onChange:function(e){F(e.target.value)},label:"OrderBy",children:M.map((function(e,t){return Object(N.jsx)(L.a,{value:e,children:e},"".concat(t," + ").concat(e))}))})]})})]}),Object(N.jsx)(ne,{data:I})]}),Object(N.jsxs)(l.a,{item:!0,xs:6,children:[Object(N.jsxs)(l.a,{container:!0,xs:12,children:[Object(N.jsx)(l.a,{item:!0,lg:9,children:Object(N.jsx)(J.a,{variant:"h6",children:"Chart"})}),Object(N.jsx)(l.a,{item:!0,lg:3,children:Object(N.jsxs)(B.a,{variant:"outlined",className:v.formControl,children:[Object(N.jsx)(z.a,{id:"demo-simple-select-outlined-label",children:"Y-Axis"}),Object(N.jsx)(G.a,{labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",value:k,onChange:function(e){D(e.target.value)},label:"YAxis",children:q.map((function(e,t){return Object(N.jsx)(L.a,{value:e,children:e},t)}))})]})})]}),Object(N.jsx)(re,{data:I,yAxisLabel:k})]})]}),p&&Object(N.jsxs)(l.a,{container:!0,spacing:8,children:[Object(N.jsx)(l.a,{item:!0,lg:12,children:Object(N.jsx)(J.a,{variant:"h6",children:"Statistics Table"})}),Object(N.jsx)(l.a,{item:!0,lg:12,children:Object(N.jsx)(l.a,{container:!0,children:Object(N.jsx)(ue,{data:p,currentUserName:o})})})]}),Object(N.jsx)(l.a,{container:!0,spacing:3,children:Object(N.jsx)(l.a,{item:!0,xs:12,style:{textAlign:"center"},children:Object(N.jsx)(j.a,{variant:"contained",size:"medium",color:"secondary",onClick:t,children:"Reset"})})})]})},be=r.a.createContext({}),he=function(e){e.onLogout;var t=r.a.useContext(xe),n=(t.token,t.setToken,t.currentUserId),c=(t.setCurrentUserId,Object(a.useState)({})),i=Object(s.a)(c,2),l=i[0],o=i[1],d=Object(a.useState)(""),u=Object(s.a)(d,2),j=u[0],b=u[1],h=Object(a.useState)(""),m=Object(s.a)(h,2),x=m[0],O=m[1],g=Object(a.useState)(""),p=Object(s.a)(g,2),f=p[0],v=p[1],y=Object(a.useState)(""),S=Object(s.a)(y,2),C=S[0],I=S[1],w=Object(a.useState)(""),A=Object(s.a)(w,2),P=A[0],k=A[1],E=Object(a.useState)(""),D=Object(s.a)(E,2),z=D[0],L=D[1],B=Object(a.useState)([]),F=Object(s.a)(B,2),G=F[0],J=F[1],H=Object(a.useState)([]),q=Object(s.a)(H,2),M=q[0],Y=q[1],V=Object(a.useState)(!1),X=Object(s.a)(V,2),Z=X[0],K=X[1],$=Object(a.useState)([]),Q=Object(s.a)($,2),te=(Q[0],Q[1]);Object(a.useEffect)((function(){var e;(e=n,_.get("/api/v1/users/".concat(e))).then((function(e){200===e.status&&o(e.data)})),_.get("/api/v1/country_data").then((function(e){200===e.status&&(Y(e.data),console.log("country list",e.data))})),J(R())}),[]),Object(a.useEffect)((function(){var e=Object.keys(l).length>0&&l.constructor===Object,t=G.length>0;e&&t&&K(!0)}),[l,G]),Object(a.useEffect)((function(){var e=JSON.parse(localStorage.getItem("currentUserInformation")),t=R();if(t&&Z){var n=t.filter((function(t){return t.userId===(null===e||void 0===e?void 0:e.userId)}));te(Object(U.a)(n))}}),[Z]);return Object(N.jsxs)(be.Provider,{value:{name:j,setName:b,email:x,setEmail:O,age:f,setAge:v,gender:C,setGender:I,city:P,setCity:k,country:z,setCountry:L},children:[!Z&&Object(N.jsx)(ee,{setcsvData:te,setShowoutput:K,userInformation:l,setUserInformation:o,countryList:M}),!!Z&&Object(N.jsx)(je,{handleReset:function(){K(!1),te([]),T({}),W([])},userInformation:l,countryList:M})]})},me=n(63);Object(me.c)({models:{user:me.a,sale:me.a.extend({user:Object(me.b)()}),userinformation:me.a},seeds:function(e){D.forEach((function(t){e.create("user",t)}))},routes:function(){this.post("/api/userinformation",(function(e,t){var n=JSON.parse(t.requestBody);return e.db.userinformations.insert(n),{userinformation:n}})),this.get("/api/userinformation/:userId",(function(e,t){return{userInformation:e.userinformations.all().models.find((function(e){return e.userId===t.params.userId}))}})),this.post("/api/sales",(function(e,t){var n=JSON.parse(t.requestBody);return e.db.sales.insert(n),{sales:n}})),this.get("/api/sales/:userId",(function(e,t){var n=t.params.userId;return{sales:e.sales.all().models.filter((function(e){return e.userId===n}))}})),this.get("/api/aggregated_data/:userId",(function(e,t){var n=t.params.userId,a=e.sales.all().models,r=a.filter((function(e){return e.userId===n}));return{aggregatedData:{avgSaleCurrentUser:g(r),avgSale:g(a),mostExpensiveProduct:p(r),mostRevenueEarningProduct:x(r),mostSoldProduct:O(r)}}})),this.passthrough(),this.passthrough("http://localhost:8000/**")}});var xe=r.a.createContext({}),Oe=function(){var e=E(),t=Object(a.useState)(localStorage.getItem("authToken")),n=Object(s.a)(t,2),r=n[0],c=n[1],i=Object(a.useState)(localStorage.getItem("currentUserId")),d=Object(s.a)(i,2),u=d[0],j=d[1];return r?(I(r),Object(N.jsx)(xe.Provider,{value:{token:r,setToken:c,currentUserId:u,setCurrentUserId:j,logoutProcess:function(){_.get("/api/v1/logout").then((function(e){localStorage.removeItem("authToken"),localStorage.removeItem("currentUserId"),localStorage.removeItem("currentUserInformation"),localStorage.removeItem("salesData"),c(void 0),I(void 0)})).catch((function(e){y.b.error(e.toString())}))}},children:Object(N.jsx)(o.a,{className:e.control,children:Object(N.jsx)(l.a,{container:!0,spacing:3,children:Object(N.jsx)(l.a,{item:!0,xs:12,children:Object(N.jsx)(he,{})})})})})):Object(N.jsx)(A,{setToken:c,setCurrentUserId:j})},ge=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,403)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),c(e),i(e)}))},pe=n(399),fe=n(4),ve=n(398),ye=n(392),Se=function(){var e=E();return Object(N.jsx)(ve.a,{position:"absolute",className:Object(fe.a)(e.appBar),children:Object(N.jsx)(ye.a,{className:e.toolbar,children:Object(N.jsx)(J.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:e.title,children:"React Web App"})})})},Ce=function(e){var t=E();return Object(N.jsxs)("div",{className:t.root,children:[Object(N.jsx)(pe.a,{}),Object(N.jsx)(Se,{}),Object(N.jsxs)("main",{className:t.content,children:[Object(N.jsx)("div",{className:t.appBarSpacer}),Object(N.jsx)(d.a,{maxWidth:"lg",className:t.container,children:e.children})]})]})};i.a.render(Object(N.jsx)(r.a.StrictMode,{children:Object(N.jsx)(Ce,{children:Object(N.jsx)(Oe,{})})}),document.getElementById("root")),ge()}},[[331,1,2]]]);
//# sourceMappingURL=main.f9b1f6f7.chunk.js.map